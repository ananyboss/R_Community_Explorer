<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
      <title>ECharts</title>
      <!-- including ECharts file -->
      <script src="https://cdn.jsdelivr.net/npm/echarts@4.6.0/dist/echarts.min.js"></script>
</head>
<body>

<h1>The Third Test for GSoC 2020</h1>
<p>This is a plot generated by echarts in javascript</p>
<div id="main" style="width: 1200px;height:800px;"></div>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('main'));
    var dataCount = 10000;
    var data = generateData(dataCount);

    var option = {
      title: {
          text: echarts.format.addCommas(dataCount) + ' Randomly Generated Data Points',
          left: 100
      },
      toolbox: {
          feature: {
              dataZoom: {
                  yAxisIndex: true
              },
              saveAsImage: {
                  pixelRatio: 2
              }
          }
      },
      tooltip: {
          trigger: 'axis',
          axisPointer: {
              type: 'shadow'
          }
      },
      grid: {
          bottom: 90
      },

      xAxis: {
          data: data.cData,
          silent: false,
          splitLine: {
              show: false
          },
          splitArea: {
              show: false
          },
          name: "Time elapsed",
          nameLocation: 'middle',
          nameGap: 50
      },
      yAxis: {
          splitArea: {
              show: false
          },
          name: "Randomly Chosen Value",
          nameLocation: 'middle',
          nameGap: 50
      },
      series: [{
          type: 'bar',
          data: data.vData,
          itemStyle: {color: '#0000ff'},
          // Set `large` for large data amount
          large: true
      }]
    };

    function generateData(count) {
      var time = +new Date();

      function next(idx) {
          return Math.max(0,Math.random()*150 + Math.random()*50 - 100)
      }

      var cData = [];
      var vData = [];

      for (var i = 0; i < count; i++) {
          cData.push(echarts.format.formatTime('yyyy-MM-dd\nhh:mm:ss', time));
          vData.push(next(i).toFixed(2));
          time += 600;
      }

      return {
          cData: cData,
          vData: vData
      };
    }
    myChart.setOption(option);
</script>
</body>
</html>
